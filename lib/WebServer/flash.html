<html lang="de">
    <head>
        <link rel="stylesheet" href="style.css">
        <link rel="icon" type="image/svg" href="logo.svg">
        <meta charset="utf-8">
        <title>Zeit Messung</title>
    </head>
    <body>
        <header>
            <nav>
                <div id="navCenter">
                    <a onmouseover="this.classList.add('navHover');" onmouseout="this.classList.remove('navHover');" class="navLink" href="/">View</a>
                    <a onmouseover="this.classList.add('navHover');" onmouseout="this.classList.remove('navHover');" class="navLink" href="/export">Export</a>
                    <a onmouseover="this.classList.add('navHover');" onmouseout="this.classList.remove('navHover');" class="navLink" href="/settings">Settings</a>
                </div>
            </nav>
        </header>
        <p style="margin-top: 100px; text-align: center" id="text">Esp is now in OTA flash mode for <span id="countdown">60</span> seconds. <br>
        Note that timing can be inaccurate in this period of time!
        </p>
        <a href="/closeFlash">Stop OTA mode</a>
        <script>
            let countDown = 60;
            let interval;
            interval = setInterval(() => {
                countDown--;
                document.getElementById("countdown").innerHTML = countDown;
                if(countDown <= 0){
                    clearInterval(interval);
                    document.getElementById("text").innerHTML = "Flash mode turned off";
                    window.location="/";
                }
            }, 1000);
        </script>
    </body>
</html>